# RCRA-scraper

[![Docker](https://github.com/geocoug/sdwis-scraper/workflows/docker%20build/badge.svg)](https://github.com/geocoug/sdwis-scraper/actions/workflows/docker-build.yml)

This script pulls [RCRA data tables](https://www.epa.gov/enviro/rcra-info-model) from the [EPA Envirofacts RESTful API](https://www.epa.gov/enviro/web-services). Data are saved in CSV format. Note that a single API query can only return up to 10,000 records.

The Following modules can be queried:

- [Handler Module](https://www.epa.gov/node/238683)

  -Columnns
        `ACCESSIBILITY`
        `ACCUMULATED`
        `ACKNOWLEDGE_DATE`
        `ACKNOWLEDGE_FLAG`
        `ACTIVE_SITE`
        `ACTIVITY_LOCATION`
        `ACTUAL_SHORT_TONS`
        `ADDRESSED_SNC`
        `AS_CONVERTER_TSDF`
        `AS_FEDERALLY_REGULATED_TSDF`
        `AS_STATE_REGULATED_TSDF`
        `CA725_INDICATOR`
        `CA750_INDICATOR`
        `CAWRKLD`
        `CERT_EMAIL`
        `CERT_FIRST_NAME`
        `CERT_LAST_NAME`
        `CERT_MIDDLE_INITIAL`
        `CERT_SEQ`
        `CERT_SIGNED_DATE`
        `CERT_TITLE`
        `CLOSWRKLD`
        `COMMERCIAL_TSD`
        `CONTACT_CITY`
        `CONTACT_COUNTRY`
        `CONTACT_EMAIL_ADDRESS`
        `CONTACT_FAX`
        `CONTACT_FIRST_NAME`
        `CONTACT_LAST_NAME`
        `CONTACT_MIDDLE_INITIAL`
        `CONTACT_NAME`
        `CONTACT_PHONE`
        `CONTACT_STATE`
        `CONTACT_STREET_NO`
        `CONTACT_STREET1`
        `CONTACT_STREET2`
        `CONTACT_TITLE`
        `CONTACT_ZIP`
        `COUNTY_CODE`
        `CURRENT_RECORD`
        `EC_INDICATOR`
        `ELECTRIC_MANIFEST_BRK`
        `ESTIMATE_SHORT_TONS`
        `EXTRACT_FLAG`
        `FA_REQUIRED`
        `FACILITY_CODE`
        `FACILITY_CODE_OWNER`
        `FED_WASTE_GENERATOR`
        `FED_WASTE_GENERATOR_OWNER`
        `FEDERAL_INDICATOR`
        `FEDERAL_UNIVERSAL_WASTE`
        `FULL_ENFORCEMENT`
        `FURNACE_EXEMPTION`
        `GENERAT`
        `GENSTATUS`
        `GPRA_CA`
        `GPRA_PERMIT`
        `GPRA_RENEWAL`
        `HANDLER_ID`
        `HANDLER_NAME`
        `HHANDLER_LAST_CHANGE`
        `HSM`
        `HSM_EFFECTIVE_DATE`
        `HSM_FA`
        `HSM_SEQ_NUMBER`
        `IC_INDICATOR`
        `IMPORTER`
        `IMPORTER_ACTIVITY`
        `IN_A_UNIVERSE`
        `IN_HANDLER_UNIVERSES`
        `INCLUDE_IN_NATIONAL_REPORT`
        `LAND_BASED_UNIT`
        `LAND_TYPE`
        `LOCATION_CITY`
        `LOCATION_COUNTRY`
        `LOCATION_COUNTY_CODE`
        `LOCATION_COUNTY_NAME`
        `LOCATION_STATE`
        `LOCATION_STREET_NO`
        `LOCATION_STREET1`
        `LOCATION_STREET2`
        `LOCATION_ZIP`
        `MAIL_CITY`
        `MAIL_COUNTRY`
        `MAIL_STATE`
        `MAIL_STREET_NO`
        `MAIL_STREET1`
        `MAIL_STREET2`
        `MAIL_ZIP`
        `MANIFEST_BROKER`
        `MIXED_WASTE_GENERATOR`
        `NAIC1`
        `NAIC2`
        `NAIC3`
        `NAIC4`
        `NAICS_CODE`
        `NAICS_OWNER`
        `NAICS_SEQ`
        `NCAPS`
        `NON_NOTIFIER`
        `NONSTORAGE_RECYC_ACT`
        `OFF_SITE_RECEIPT`
        `ONSITE_BURNER_EXEMPT`
        `ONSITE_BURNER_EXEMPTION`
        `OPERATING_TSDF`
        `OPERATOR_NAME`
        `OPERATOR_SEQ`
        `OPERATOR_TYPE`
        `OTHER_ID`
        `OTHER_PERMIT_DESC`
        `OTHER_PERMIT_NUMBER`
        `OTHER_PERMIT_OWNER`
        `OTHER_PERMIT_TYPE`
        `OWNER_NAME`
        `OWNER_SEQ`
        `OWNER_TYPE`
        `PCONTACT_CITY`
        `PCONTACT_COUNTRY`
        `PCONTACT_EMAIL_ADDRESS`
        `PCONTACT_FIRST_NAME`
        `PCONTACT_LAST_NAME`
        `PCONTACT_MIDDLE_INITIAL`
        `PCONTACT_PHONE`
        `PCONTACT_PHONE_EXT`
        `PCONTACT_STATE`
        `PCONTACT_STREET_NO`
        `PCONTACT_STREET1`
        `PCONTACT_STREET2`
        `PCONTACT_TITLE`
        `PCONTACT_ZIP`
        `PCWRKLD`
        `PERMIT_RENEWAL_WRKLD`
        `PERMPROG`
        `PERMWRKLD`
        `PUBLIC_NOTES`
        `REASON_FOR_NOTIFICATION`
        `RECEIVE_DATE`
        `RECOGNIZED_TRADER_EXPORTER`
        `RECOGNIZED_TRADER_IMPORTER`
        `RECYCLE_ACT_NO_STORAGE`
        `RECYCLER`
        `RECYCLER_ACTIVITY`
        `REGION`
        `RELATIONSHIP`
        `RELATIONSHIP_OWNER`
        `REPORT_CYCLE`
        `SAME_FACILITY`
        `SEQ_NUMBER`
        `SHORT_TERM_GENERATOR`
        `SLAB_EXPORTER`
        `SLAB_IMPORTER`
        `SNC`
        `SNC_WITH_COMP_SCHED`
        `SOURCE_TYPE`
        `STATE`
        `STATE_ACTIVITY_OWNER`
        `STATE_ACTIVITY_TYPE`
        `STATE_DISTRICT`
        `STATE_DISTRICT_OWNER`
        `STATE_WASTE_GENERATOR`
        `STATE_WASTE_GENERATOR_OWNER`
        `SUBJCA`
        `SUBJCA_NON_TSD`
        `SUBJCA_TSD_3004`
        `SUBJCA_TSD_DISCRETION`
        `SUBPART_K`
        `SUBPART_K_COLLEGE`
        `SUBPART_K_HOSPITAL`
        `SUBPART_K_NONPROFIT`
        `SUBPART_K_WITHDRAWAL`
        `SUBPARTP_HEALTHCARE`
        `SUBPARTP_REVERSE_DISTR`
        `SUBPARTP_WITHDRAWAL`
        `TRADER_EXPORTER`
        `TRADER_IMPORTER`
        `TRANSFER_FACILITY`
        `TRANSPORTER`
        `TRIBAL_ID`
        `TSD_ACTIVITY`
        `TSD_DATE`
        `TSD_TYPE`
        `UNADDRESSED_SNC`
        `UNDERGROUND_INJECTION`
        `UNDERGROUND_INJECTION_ACTIVITY`
        `UNIVERSAL_WASTE_DEST_FACILITY`
        `UNIVERSAL_WASTE_OWNER`
        `UNIVERSAL_WASTE_TYPE`
        `UNIVWASTE`
        `USED_OIL`
        `USED_OIL_BURNER`
        `USED_OIL_MARKET_BURNER`
        `USED_OIL_PROCESSOR`
        `USED_OIL_REFINER`
        `USED_OIL_SPEC_MARKETER`
        `USED_OIL_TRANSFER_FACILITY`
        `USED_OIL_TRANSPORTER`
        `WASTE_CODE`
        `WASTE_CODE_OWNER`
  
- [Permitting Module](https://www.epa.gov/node/96229)
  
- [Corrective Action Module](https://www.epa.gov/node/238681)
  
    -Columns:
      `HANDLER_ID`
      `ACTIVITY_LOCATION`
      `ACTUAL_DATE`
      `AIR_RELEASE_IND`
      `AREA_FACILITYWIDE_IND`
      `AREA_HANDLER_ID`
      `AREA_NAME`
      `AREA_SEQ`
      `AUTHORITY_OWNER`
      `AUTHORITY_TYPE`
      `BEST_DATE`
      `CA_EVENT_CODE`
      `EFFECTIVE_DATE`
      `END_DATE`
      `EPA_OWNER`
      `EPA_PERSON_ID`
      `EVENT_HANDLER_ID`
      `EVENT_OWN`
      `EVENT_SEQ`
      `GROUNDWATER_RELEASE_IND`
      `HANDLER_NAME`
      `ISSUANCE_DATE`
      `OWNER`
      `PERSON_ID`
      `PERSON_OWNER`
      `REGION`
      `REGULATED_UNIT_IND`
      `REPOSITORY`
      `RESPONSIBLE_AGENCY`
      `RESPONSIBLE_PERSON`
      `RESPONSIBLE_PERSON_OWNER`
      `SCHEDULE_DATE_NEW`
      `SCHEDULE_DATE_ORIG`
      `SOIL_RELEASE_IND`
      `STATE`
      `STATE_OWNER`
      `STATE_PERSON_ID`
      `SUB_ORGANIZATION`
      `SUB_ORGANIZATION_OWNER`
      `SURFACE_WASTE_RELEASE_IND`
      `TRIBAL_ID`
      `UNIT_HANDLER_ID`
      `UNIT_SEQ`
  
- [Financial Assurance Module](https://www.epa.gov/node/238675)
  
    -Columns:
      `HANDLER_ID`
      `COST_ACTIVITY_LOCATION`
      `COST_FA_TYPE`
      `COST_AGENCY`
      `COST_COVERAGE_SEQ`
      `RESPONSIBLE_PERSON_OWNER`
      `RESPONSIBLE_PERSON`
      `COST_ESTIMATE_AMOUNT`
      `COST_ESTIMATE_DATE`
      `COST_ESTIMATE_REASON`
      `MECH_HANDLER_ID`
      `MECH_ACTIVITY_LOCATION`
      `MECH_AGENCY`
      `MECH_SEQ`
      `MECH_DETAIL_SEQ`
      `MECH_TYPE_OWNER`
      `MECH_TYPE`
      `PROVIDER`
      `PROVIDER_CONTACT_NAME`
      `PROVIDER_CONTACT_PHONE`
      `FACE_VALUE_AMOUNT`
      `EFFECTIVE_DATE`
      `EXPIRATION_DATE`
  

- [GIS Module](https://www.epa.gov/node/238679)

Each module consists of multiple tables; a list will be created here in the future, for now please reference the above links for a more detailed description.

This project is very much in its infancy; if you're reading this message, it is not currently updated to link to the correct resources. Please check back for future updates.

## Usage

```sh
docker run -it --rm -v $(pwd):/usr/local/app $(docker build -q -t rcra-scraper .)
```
